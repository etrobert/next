(this.webpackJsonpnext=this.webpackJsonpnext||[]).push([[0],{54:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var n=c(5),a=c.n(n),s=c(33),r=c.n(s),j=c(13),i=c(39),u=c(14),o=c(9),b=c(73),d=(c(54),c(8)),O=function(){var e=Object(n.useState)(Object(b.a)()),t=Object(o.a)(e,1)[0];return Object(d.jsxs)("div",{className:"LandingPage",children:[Object(d.jsx)("h1",{className:"LandingPage__title",children:"Next"}),Object(d.jsx)(i.b,{className:"LandingPage__cta",to:"/project/".concat(t),children:"START NOW"})]})},l=Object(j.c)({key:"Task",default:{name:"DEFAULT-NAME",status:"ready"}}),f=Object(j.b)({key:"ProjectId",default:"AY61ltFwdgzx8AgBFqKC"}),x=Object(j.b)({key:"Project",default:{tasks:[]}}),h=Object(j.d)({key:"NextTaskId",get:function(e){var t,c=e.get;return null!==(t=c(x).tasks.filter((function(e){return"completed"!==c(l(e)).status}))[0])&&void 0!==t?t:null}}),k=c(18),m=c(21),g=c(11),p=c(47),v=function(){var e=Object(j.e)((function(e){var t=e.set;return function(e,c){t(l(e),c),t(x,(function(t){return Object(g.a)(Object(g.a)({},t),{},{tasks:[].concat(Object(m.a)(t.tasks),[e])})}))}})),t=Object(j.e)((function(e){var t=e.set;return function(e){return t(x,(function(t){return Object(g.a)(Object(g.a)({},t),{},{tasks:Object(p.without)(t.tasks,e)})}))}}));return{addTask:e,setTask:Object(j.e)((function(e){var t=e.set;return function(e,c){return t(l(e),c)}})),removeTask:t}},N=c(48),y=Object(N.a)({apiKey:"AIzaSyAvvj4nuUOxBJ6d0iE1Gjgg8gCXO7aXo_g",authDomain:"next-etienne.firebaseapp.com",projectId:"next-etienne",storageBucket:"next-etienne.appspot.com",messagingSenderId:"489100545863",appId:"1:489100545863:web:dafb3e6b2bb270198e4662"}),T=Object(k.e)(y),_=function(){var e=Object(j.g)(f),t=v(),c=t.addTask,a=t.setTask,s=t.removeTask;Object(n.useEffect)((function(){var t=Object(k.b)(T,"projects/".concat(e,"/tasks"));return Object(k.f)(t,(function(e){return e.docChanges().forEach((function(e){var t=e.doc.id,n=e.doc.data();switch(e.type){case"added":c(t,n);break;case"modified":a(t,n);break;case"removed":s(t)}}))}))}),[e,c,s,a])},w=function(){var e=Object(j.h)(x);Object(n.useEffect)((function(){return e({tasks:[]})}))},C=function(){var e=Object(j.g)(f);return Object(n.useCallback)((function(t){var c=Object(k.b)(T,"projects/".concat(e,"/tasks")),n={name:t,status:"ready"};return Object(k.a)(c,n)}),[e])},P=function(){var e=Object(j.g)(f);return Object(n.useCallback)((function(t){return Object(k.c)(Object(k.d)(T,"projects/".concat(e,"/tasks/").concat(t)))}),[e])},I=function(){var e=Object(j.g)(f);return Object(n.useCallback)((function(t,c){return Object(k.g)(Object(k.d)(T,"projects/".concat(e,"/tasks/").concat(t)),c)}),[e])},E=(c(65),function(e){var t=e.id,c=Object(j.g)(l(t)),n=c.name,a=c.status,s=P(),r=I();return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"checkbox",checked:"completed"===a,onChange:function(){return r(t,{status:"ready"===a?"completed":"ready"})}})}),Object(d.jsx)("td",{className:"Task__name-td",children:n}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{onClick:function(){return s(t)},children:"Delete"})})]})}),F=(c(66),function(){var e=Object(j.g)(x).tasks,t=Object(n.useState)(""),c=Object(o.a)(t,2),a=c[0],s=c[1],r=C();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("form",{id:"new-task-form",onSubmit:function(e){e.preventDefault(),""!==a&&(r(a),s(""))}}),Object(d.jsx)("table",{className:"ListView",children:Object(d.jsxs)("tbody",{children:[e.map((function(e){return Object(d.jsx)(E,{id:e},e)})),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("button",{className:"ListView__new-task-submit",type:"submit",form:"new-task-form"})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{className:"ListView__new-task-input",type:"text",form:"new-task-form",value:a,onChange:function(e){return s(e.target.value)}})})]})]})})]})}),L=(c(67),function(){var e=Object(j.g)(h),t=Object(j.f)(l(null!==e&&void 0!==e?e:"")),c=Object(o.a)(t,2),n=c[0],a=c[1];return Object(d.jsx)("div",{className:"NextPanel",children:null===e?Object(d.jsx)("h2",{className:"NextPanel__done",children:"You're done!"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"Next Task"}),n.name,Object(d.jsx)("button",{onClick:function(){return a((function(e){return Object(g.a)(Object(g.a)({},e),{},{status:"completed"})}))},children:"DONE!"})]})})}),S=(c(68),function(){var e=Object(u.f)().projectId,t=Object(j.h)(f);return Object(n.useEffect)((function(){return t(e)}),[e,t]),_(),w(),Object(d.jsxs)("div",{className:"MainPage",children:[Object(d.jsx)("h1",{className:"MainPage__title",children:"Next"}),Object(d.jsx)(F,{}),Object(d.jsx)(L,{})]})});c(69);var A=function(){return Object(d.jsx)(i.a,{basename:"/next",children:Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{exact:!0,path:"/",children:Object(d.jsx)(O,{})}),Object(d.jsx)(u.a,{path:"/project/:projectId",children:Object(d.jsx)(S,{})})]})})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,74)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};c(70);r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(j.a,{children:Object(d.jsx)(A,{})})}),document.getElementById("root")),D()}},[[71,1,2]]]);
//# sourceMappingURL=main.bc81c2dd.chunk.js.map