(this.webpackJsonpnext=this.webpackJsonpnext||[]).push([[0],{55:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){},61:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var c=n(5),a=n.n(c),r=n(33),s=n.n(r),j=n(13),i=n(48),u=n(14),o=n(0),b=n.n(o),d=n(3),O=n(9),f=n(15),l=n(44),x=Object(l.a)({apiKey:"AIzaSyAvvj4nuUOxBJ6d0iE1Gjgg8gCXO7aXo_g",authDomain:"next-etienne.firebaseapp.com",projectId:"next-etienne",storageBucket:"next-etienne.appspot.com",messagingSenderId:"489100545863",appId:"1:489100545863:web:dafb3e6b2bb270198e4662"}),h=Object(f.e)(x),k=function(){return Object(c.useCallback)((function(){return Object(f.a)(Object(f.b)(h,"projects"),{})}),[])},m=(n(55),n(8)),p=function(){var t=k(),e=Object(c.useState)(!1),n=Object(O.a)(e,2),a=n[0],r=n[1],s=function(){var e=Object(d.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,t();case 3:n=e.sent,window.location.href="/next/project/".concat(n.id);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"LandingPage",children:[Object(m.jsx)("h1",{className:"LandingPage__title",children:"Next"}),Object(m.jsx)("button",{className:"LandingPage__cta",onClick:a?void 0:s,children:a?"Creating Project...":"START NOW"})]})},g=Object(j.c)({key:"Task",default:{name:"DEFAULT-NAME",status:"ready"}}),v=Object(j.b)({key:"ProjectId",default:"AY61ltFwdgzx8AgBFqKC"}),N=Object(j.b)({key:"Project",default:{tasks:[]}}),w=Object(j.d)({key:"NextTaskId",get:function(t){var e,n=t.get;return null!==(e=n(N).tasks.filter((function(t){return"completed"!==n(g(t)).status}))[0])&&void 0!==e?e:null}}),y=n(21),C=n(11),T=n(45),_=function(){var t=Object(j.e)((function(t){var e=t.set;return function(t,n){e(g(t),n),e(N,(function(e){return Object(C.a)(Object(C.a)({},e),{},{tasks:[].concat(Object(y.a)(e.tasks),[t])})}))}})),e=Object(j.e)((function(t){var e=t.set;return function(t){return e(N,(function(e){return Object(C.a)(Object(C.a)({},e),{},{tasks:Object(T.without)(e.tasks,t)})}))}}));return{addTask:t,setTask:Object(j.e)((function(t){var e=t.set;return function(t,n){return e(g(t),n)}})),removeTask:e}},P=function(){var t=Object(j.g)(v),e=_(),n=e.addTask,a=e.setTask,r=e.removeTask;Object(c.useEffect)((function(){var e=Object(f.b)(h,"projects/".concat(t,"/tasks"));return Object(f.f)(e,(function(t){return t.docChanges().forEach((function(t){var e=t.doc.id,c=t.doc.data();switch(t.type){case"added":n(e,c);break;case"modified":a(e,c);break;case"removed":r(e)}}))}))}),[t,n,r,a])},I=function(){var t=Object(j.h)(N);Object(c.useEffect)((function(){return t({tasks:[]})}))},E=function(){var t=Object(j.g)(v);return Object(c.useCallback)((function(e){var n=Object(f.b)(h,"projects/".concat(t,"/tasks")),c={name:e,status:"ready"};return Object(f.a)(n,c)}),[t])},F=function(){var t=Object(j.g)(v);return Object(c.useCallback)((function(e){return Object(f.c)(Object(f.d)(h,"projects/".concat(t,"/tasks/").concat(e)))}),[t])},L=function(){var t=Object(j.g)(v);return Object(c.useCallback)((function(e,n){return Object(f.g)(Object(f.d)(h,"projects/".concat(t,"/tasks/").concat(e)),n)}),[t])},S=(n(58),function(t){var e=t.id,n=Object(j.g)(g(e)),c=n.name,a=n.status,r=F(),s=L();return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"checkbox",checked:"completed"===a,onChange:function(){return s(e,{status:"ready"===a?"completed":"ready"})}})}),Object(m.jsx)("td",{className:"Task__name-td",children:c}),Object(m.jsx)("td",{children:Object(m.jsx)("button",{onClick:function(){return r(e)},children:"Delete"})})]})}),A=(n(59),function(){var t=Object(j.g)(N).tasks,e=Object(c.useState)(""),n=Object(O.a)(e,2),a=n[0],r=n[1],s=E();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("form",{id:"new-task-form",onSubmit:function(t){t.preventDefault(),""!==a&&(s(a),r(""))}}),Object(m.jsx)("table",{className:"ListView",children:Object(m.jsxs)("tbody",{children:[t.map((function(t){return Object(m.jsx)(S,{id:t},t)})),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("button",{className:"ListView__new-task-submit",type:"submit",form:"new-task-form"})}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{className:"ListView__new-task-input",type:"text",form:"new-task-form",value:a,onChange:function(t){return r(t.target.value)}})})]})]})})]})}),D=(n(60),function(){var t=Object(j.g)(w),e=Object(j.f)(g(null!==t&&void 0!==t?t:"")),n=Object(O.a)(e,2),c=n[0],a=n[1];return Object(m.jsx)("div",{className:"NextPanel",children:null===t?Object(m.jsx)("h2",{className:"NextPanel__done",children:"You're done!"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{children:"Next Task"}),c.name,Object(m.jsx)("button",{onClick:function(){return a((function(t){return Object(C.a)(Object(C.a)({},t),{},{status:"completed"})}))},children:"DONE!"})]})})}),B=(n(61),function(){var t=Object(u.f)().projectId,e=Object(j.h)(v);return Object(c.useEffect)((function(){return e(t)}),[t,e]),P(),I(),Object(m.jsxs)("div",{className:"MainPage",children:[Object(m.jsx)("h1",{className:"MainPage__title",children:"Next"}),Object(m.jsx)(A,{}),Object(m.jsx)(D,{})]})});n(69);var M=function(){return Object(m.jsx)(i.a,{basename:"/next",children:Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{exact:!0,path:"/",children:Object(m.jsx)(p,{})}),Object(m.jsx)(u.a,{path:"/project/:projectId",children:Object(m.jsx)(B,{})})]})})},J=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),r(t),s(t)}))};n(70);s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(j.a,{children:Object(m.jsx)(M,{})})}),document.getElementById("root")),J()}},[[71,1,2]]]);
//# sourceMappingURL=main.d9e9aefe.chunk.js.map